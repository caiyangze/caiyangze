# 位置设置说明

## 新的默认位置

已将系统默认位置更新为您提供的坐标：

- **经度**: 115.489791
- **纬度**: 38.815954
- **大致位置**: 河北省石家庄市区域

## 修改的文件

### 1. 前端页面 (`abab_uniapp/pages/nearby/nearby.vue`)

#### 1.1 默认位置设置
```javascript
// 当前位置
const currentLocation = reactive({
    longitude: 115.489791, // 您的位置坐标
    latitude: 38.815954
});
```

#### 1.2 快速体验功能
- 更新了快速开始体验中的默认坐标
- 修改了提示文案，从"北京"改为"您的位置"

#### 1.3 模拟数据位置名称
更新了模拟用户的位置名称，使其更符合石家庄地区：
- 小美：长安区
- 阳光男孩：桥西区  
- 文艺青年：新华区
- 户外达人：裕华区

### 2. 测试页面 (`test-nearby-api.html`)

#### 2.1 API测试坐标
```javascript
// 查询附近用户测试
const data = {
    longitude: 115.489791,
    latitude: 38.815954,
    radius: 10,
    limit: 20
};

// 位置更新测试
const data = {
    longitude: 115.489791,
    latitude: 38.815954,
    locationName: '河北省石家庄市',
    address: '河北省石家庄市某某街道'
};
```

## 功能说明

### 1. 自动定位
- 系统启动时会尝试获取用户的真实位置
- 如果定位失败，会使用您设置的默认坐标
- 用户可以手动点击"获取位置"按钮重新定位

### 2. 快速体验
- "立即体验"功能现在使用您的坐标作为中心点
- 模拟用户会围绕这个位置分布
- 提供了更真实的本地化体验

### 3. 地图显示
- 地图会以您的位置为中心显示
- 搜索范围圆圈会以您的位置为圆心
- 附近用户标记会相对于您的位置显示

## 坐标系说明

### 当前使用的坐标系
- **WGS84坐标系**：GPS原始坐标系
- 适用于国际标准GPS设备
- 与Google Maps等国际地图服务兼容

### 坐标转换
如果需要在国内地图服务（如百度地图、高德地图）中使用，系统已包含坐标转换功能：
- WGS84 → GCJ02（火星坐标系）
- 自动处理坐标系转换

## 测试建议

### 1. 功能测试
1. 打开附近的人页面
2. 验证地图是否以您的位置为中心
3. 测试"立即体验"功能
4. 检查模拟用户是否围绕您的位置分布

### 2. API测试
1. 使用 `test-nearby-api.html` 测试各个API
2. 验证位置更新功能
3. 测试查询附近用户功能

### 3. 真实定位测试
1. 在您的实际位置测试GPS定位
2. 验证定位精度
3. 测试位置更新功能

## 注意事项

### 1. 隐私保护
- 默认坐标仅用于系统初始化
- 用户可以随时更新为真实位置
- 位置信息仅在本地存储

### 2. 精度说明
- GPS定位精度通常在3-5米
- 室内定位可能精度较低
- 建议在室外空旷地区测试

### 3. 网络要求
- 地图加载需要网络连接
- API调用需要后端服务运行
- 离线时会使用缓存数据

## 后续优化建议

### 1. 位置记忆功能
- 记住用户最后使用的位置
- 提供常用位置快速选择
- 支持多个位置收藏

### 2. 位置精度优化
- 结合GPS和网络定位
- 提供位置精度指示
- 支持手动微调位置

### 3. 地区适配
- 根据位置自动切换地图服务
- 提供本地化的位置名称
- 适配不同地区的用户习惯

现在系统已经以您的位置 (38.815954, 115.489791) 作为默认中心点，您可以开始测试附近的人功能了！
