# å¿ƒåŠ¨é€Ÿé…æŒ‰é’®ç¦ç”¨é—®é¢˜ä¿®å¤è¯´æ˜

## ğŸš¨ é—®é¢˜æè¿°

åœ¨å¿ƒåŠ¨é€Ÿé…é¡µé¢ä¸­ï¼Œå½“ç”¨æˆ·é€‰æ‹©"å¥³ç”Ÿ"æ—¶ï¼ŒåŒ¹é…æŒ‰é’®æ— æ³•ç‚¹å‡»ï¼Œæ˜¾ç¤ºä¸ºç¦ç”¨çŠ¶æ€ã€‚

## ğŸ” é—®é¢˜æ ¹å› 

### æŠ€æœ¯åŸå› 
åœ¨JavaScriptä¸­ï¼Œæ•°å­— `0` è¢«è®¤ä¸ºæ˜¯ **falsy** å€¼ã€‚å½“ç”¨æˆ·é€‰æ‹©å¥³ç”Ÿæ—¶ï¼š
- `selectedGender` çš„å€¼ä¸º `0`ï¼ˆå¥³ç”Ÿçš„ç¼–ç ï¼‰
- æ¡ä»¶åˆ¤æ–­ `!selectedGender` è¿”å› `true`
- å¯¼è‡´æŒ‰é’®è¢«é”™è¯¯åœ°ç¦ç”¨

### é—®é¢˜ä»£ç 
```vue
<!-- æŒ‰é’®ç¦ç”¨é€»è¾‘ -->
:disabled="!selectedGender || isMatching"

<!-- æŒ‰é’®æ ·å¼é€»è¾‘ -->
:class="{ disabled: !selectedGender }"

<!-- åŒ¹é…å‡½æ•°éªŒè¯é€»è¾‘ -->
if (!this.selectedGender) {
  // é”™è¯¯åœ°è®¤ä¸ºæ²¡æœ‰é€‰æ‹©æ€§åˆ«
}
```

### JavaScript Falsy å€¼
åœ¨JavaScriptä¸­ï¼Œä»¥ä¸‹å€¼è¢«è®¤ä¸ºæ˜¯falsyï¼š
- `false`
- `0` â­ **è¿™æ˜¯é—®é¢˜æ‰€åœ¨**
- `-0`
- `0n`
- `""`
- `null`
- `undefined`
- `NaN`

## ğŸ”§ ä¿®å¤æ–¹æ¡ˆ

### 1. ä¿®å¤æŒ‰é’®ç¦ç”¨é€»è¾‘

**ä¿®å¤å‰ï¼š**
```vue
:disabled="!selectedGender || isMatching"
:class="{ disabled: !selectedGender }"
```

**ä¿®å¤åï¼š**
```vue
:disabled="selectedGender === null || selectedGender === undefined || isMatching"
:class="{ disabled: selectedGender === null || selectedGender === undefined }"
```

### 2. ä¿®å¤åŒ¹é…å‡½æ•°éªŒè¯é€»è¾‘

**ä¿®å¤å‰ï¼š**
```javascript
if (!this.selectedGender) {
  uni.showToast({
    title: 'è¯·å…ˆé€‰æ‹©æ€§åˆ«',
    icon: 'none'
  })
  return
}
```

**ä¿®å¤åï¼š**
```javascript
if (this.selectedGender === null || this.selectedGender === undefined) {
  uni.showToast({
    title: 'è¯·å…ˆé€‰æ‹©æ€§åˆ«',
    icon: 'none'
  })
  return
}
```

### 3. æ›´æ–°æ³¨é‡Šè¯´æ˜

**ä¿®å¤å‰ï¼š**
```javascript
selectedGender: null, // é€‰ä¸­çš„æ€§åˆ« 1-ç”· 2-å¥³
```

**ä¿®å¤åï¼š**
```javascript
selectedGender: null, // é€‰ä¸­çš„æ€§åˆ« 0-å¥³ 1-ç”·
```

## ğŸ“‹ ä¿®å¤æ–‡ä»¶

**æ–‡ä»¶è·¯å¾„ï¼š** `abab_uniapp/pages/game/heart-match.vue`

**ä¿®å¤å†…å®¹ï¼š**
1. ç¬¬54-59è¡Œï¼šæŒ‰é’®ç¦ç”¨å’Œæ ·å¼é€»è¾‘
2. ç¬¬179è¡Œï¼šæ³¨é‡Šæ›´æ–°
3. ç¬¬209è¡Œï¼šåŒ¹é…å‡½æ•°éªŒè¯é€»è¾‘

## ğŸ§ª æµ‹è¯•éªŒè¯

### æµ‹è¯•åœºæ™¯ï¼š
1. **é€‰æ‹©ç”·ç”Ÿï¼ˆå€¼ä¸º1ï¼‰**ï¼š
   - âœ… æŒ‰é’®åº”è¯¥å¯ä»¥ç‚¹å‡»
   - âœ… èƒ½å¤Ÿæ­£å¸¸å‘èµ·åŒ¹é…

2. **é€‰æ‹©å¥³ç”Ÿï¼ˆå€¼ä¸º0ï¼‰**ï¼š
   - âœ… æŒ‰é’®åº”è¯¥å¯ä»¥ç‚¹å‡»ï¼ˆä¿®å¤åï¼‰
   - âœ… èƒ½å¤Ÿæ­£å¸¸å‘èµ·åŒ¹é…ï¼ˆä¿®å¤åï¼‰

3. **æœªé€‰æ‹©æ€§åˆ«ï¼ˆå€¼ä¸ºnullï¼‰**ï¼š
   - âœ… æŒ‰é’®åº”è¯¥ç¦ç”¨
   - âœ… ç‚¹å‡»æ—¶æç¤º"è¯·å…ˆé€‰æ‹©æ€§åˆ«"

### éªŒè¯æ­¥éª¤ï¼š
1. æ‰“å¼€å¿ƒåŠ¨é€Ÿé…é¡µé¢
2. ç‚¹å‡»"å¥³ç”Ÿ"é€‰é¡¹
3. ç¡®è®¤æŒ‰é’®å˜ä¸ºå¯ç‚¹å‡»çŠ¶æ€
4. ç‚¹å‡»"å¼€å§‹åŒ¹é…"æŒ‰é’®
5. éªŒè¯èƒ½å¤Ÿæ­£å¸¸å‘èµ·åŒ¹é…è¯·æ±‚

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. é¿å…ä½¿ç”¨ Truthy/Falsy åˆ¤æ–­æ•°å­—å€¼
```javascript
// âŒ é”™è¯¯åšæ³•
if (!value) { /* å½“valueä¸º0æ—¶ä¼šè¯¯åˆ¤ */ }

// âœ… æ­£ç¡®åšæ³•
if (value === null || value === undefined) { /* æ˜ç¡®åˆ¤æ–­ */ }
```

### 2. ä½¿ç”¨ä¸¥æ ¼ç›¸ç­‰åˆ¤æ–­
```javascript
// âŒ å¯èƒ½æœ‰é—®é¢˜
if (selectedGender) { /* 0ä¼šè¢«è®¤ä¸ºæ˜¯false */ }

// âœ… æ¨èåšæ³•
if (selectedGender !== null && selectedGender !== undefined) { /* æ˜ç¡®åˆ¤æ–­ */ }
```

### 3. è€ƒè™‘ä½¿ç”¨é»˜è®¤å€¼
```javascript
// å¯ä»¥è€ƒè™‘ä½¿ç”¨-1ä½œä¸º"æœªé€‰æ‹©"çš„é»˜è®¤å€¼
selectedGender: -1, // -1è¡¨ç¤ºæœªé€‰æ‹©ï¼Œ0è¡¨ç¤ºå¥³ç”Ÿï¼Œ1è¡¨ç¤ºç”·ç”Ÿ
```

## ğŸ¯ ä¿®å¤æ•ˆæœ

ä¿®å¤åçš„æ•ˆæœï¼š
- âœ… é€‰æ‹©"ç”·ç”Ÿ"æ—¶ï¼ŒæŒ‰é’®æ­£å¸¸å¯ç‚¹å‡»
- âœ… é€‰æ‹©"å¥³ç”Ÿ"æ—¶ï¼ŒæŒ‰é’®æ­£å¸¸å¯ç‚¹å‡»ï¼ˆä¿®å¤çš„é‡ç‚¹ï¼‰
- âœ… æœªé€‰æ‹©æ—¶ï¼ŒæŒ‰é’®æ­£ç¡®ç¦ç”¨
- âœ… åŒ¹é…åŠŸèƒ½æ­£å¸¸å·¥ä½œ
- âœ… ç”¨æˆ·ä½“éªŒå¾—åˆ°æ”¹å–„

## ğŸš€ ç›¸å…³å»ºè®®

### 1. ä»£ç å®¡æŸ¥
å»ºè®®åœ¨ä»£ç å®¡æŸ¥æ—¶ç‰¹åˆ«æ³¨æ„ï¼š
- æ¶‰åŠæ•°å­—0çš„é€»è¾‘åˆ¤æ–­
- Truthy/Falsyå€¼çš„ä½¿ç”¨
- è¾¹ç•Œæ¡ä»¶çš„å¤„ç†

### 2. æµ‹è¯•è¦†ç›–
å»ºè®®å¢åŠ æµ‹è¯•ç”¨ä¾‹ï¼š
- æµ‹è¯•æ‰€æœ‰å¯èƒ½çš„æ€§åˆ«é€‰æ‹©å€¼
- æµ‹è¯•è¾¹ç•Œæ¡ä»¶ï¼ˆnullã€undefinedã€0ã€1ï¼‰
- æµ‹è¯•æŒ‰é’®çŠ¶æ€å˜åŒ–

### 3. ç±»å‹å®‰å…¨
è€ƒè™‘ä½¿ç”¨TypeScriptæ¥é¿å…æ­¤ç±»é—®é¢˜ï¼š
```typescript
type Gender = 0 | 1; // æ˜ç¡®å®šä¹‰æ€§åˆ«ç±»å‹
selectedGender: Gender | null = null;
```

è¿™ä¸ªä¿®å¤è§£å†³äº†ç”¨æˆ·é€‰æ‹©å¥³ç”Ÿæ—¶æ— æ³•ç‚¹å‡»åŒ¹é…æŒ‰é’®çš„é—®é¢˜ï¼Œæå‡äº†ç”¨æˆ·ä½“éªŒå’ŒåŠŸèƒ½çš„å¯ç”¨æ€§ã€‚
