# å¿ƒåŠ¨é€Ÿé…æ€§åˆ«æ¡ä»¶ä¿®å¤è¯´æ˜

## ğŸš¨ é—®é¢˜æè¿°

åœ¨å¿ƒåŠ¨é€Ÿé…åŠŸèƒ½ä¸­ï¼Œæ€§åˆ«æ¡ä»¶è®¾ç½®é”™è¯¯ï¼š
- **é”™è¯¯è®¾ç½®**ï¼š`1-ç”·ï¼Œ2-å¥³`
- **æ­£ç¡®è®¾ç½®**ï¼š`0-å¥³ï¼Œ1-ç”·`

è¿™å¯¼è‡´ç”¨æˆ·é€‰æ‹©æ€§åˆ«æ—¶ï¼ŒåŒ¹é…åˆ°çš„ç»“æœä¸ç¬¦åˆé¢„æœŸã€‚

## ğŸ”§ ä¿®å¤å†…å®¹

### 1. åç«¯ä¿®å¤

#### UserServiceImpl.java
**æ–‡ä»¶è·¯å¾„**ï¼š`lovelink-user/src/main/java/com/zhentao/service/impl/UserServiceImpl.java`

**ä¿®å¤å†…å®¹**ï¼š
- ä¿®æ­£æ–¹æ³•æ³¨é‡Šä¸­çš„æ€§åˆ«è¯´æ˜
- ä» `@param gender è¦åŒ¹é…çš„æ€§åˆ« 1-ç”· 2-å¥³` 
- æ”¹ä¸º `@param gender è¦åŒ¹é…çš„æ€§åˆ« 0-å¥³ 1-ç”·`

#### UserController.java
**æ–‡ä»¶è·¯å¾„**ï¼š`lovelink-user/src/main/java/com/zhentao/controller/UserController.java`

**ä¿®å¤å†…å®¹**ï¼š
1. **å‚æ•°éªŒè¯é€»è¾‘**ï¼š
   ```java
   // ä¿®å¤å‰
   if (gender == null || (gender != 1 && gender != 2)) {
   
   // ä¿®å¤å
   if (gender == null || (gender != 0 && gender != 1)) {
   ```

2. **æ—¥å¿—è¾“å‡º**ï¼š
   ```java
   // ä¿®å¤å‰
   gender == 1 ? "ç”·" : "å¥³"
   
   // ä¿®å¤å
   gender == 0 ? "å¥³" : "ç”·"
   ```

3. **æ–¹æ³•æ³¨é‡Š**ï¼š
   - æ›´æ–°æ³¨é‡Šè¯´æ˜æ­£ç¡®çš„æ€§åˆ«ç¼–ç 

#### HeartMatchDTO.java
**æ–‡ä»¶è·¯å¾„**ï¼š`lovelink-user/src/main/java/com/zhentao/dto/HeartMatchDTO.java`

**ä¿®å¤å†…å®¹**ï¼š
- ä¿®æ­£æ³¨é‡Šï¼šä» `è¦åŒ¹é…çš„æ€§åˆ«ï¼š1-ç”·ï¼Œ2-å¥³` æ”¹ä¸º `è¦åŒ¹é…çš„æ€§åˆ«ï¼š0-å¥³ï¼Œ1-ç”·`

### 2. å‰ç«¯ä¿®å¤

#### heart-match.vue
**æ–‡ä»¶è·¯å¾„**ï¼š`abab_uniapp/pages/game/heart-match.vue`

**ä¿®å¤å†…å®¹**ï¼š
- ä¿®æ­£å¥³ç”Ÿé€‰æ‹©æŒ‰é’®çš„ç»‘å®šå€¼ï¼š
  ```vue
  <!-- ä¿®å¤å‰ -->
  :class="{ active: selectedGender === 2 }"
  @click="selectGender(2)"
  
  <!-- ä¿®å¤å -->
  :class="{ active: selectedGender === 0 }"
  @click="selectGender(0)"
  ```

## ğŸ“‹ æ€§åˆ«ç¼–ç æ ‡å‡†

### æ•°æ®åº“å­—æ®µ `gender` çš„æ­£ç¡®ç¼–ç ï¼š
- **0** - å¥³ç”Ÿ (Female)
- **1** - ç”·ç”Ÿ (Male)

### å‰ç«¯é€‰æ‹©é€»è¾‘ï¼š
- ç”¨æˆ·é€‰æ‹©"ç”·ç”Ÿ"æ—¶ï¼Œå‘é€ `gender: 1`
- ç”¨æˆ·é€‰æ‹©"å¥³ç”Ÿ"æ—¶ï¼Œå‘é€ `gender: 0`

### åç«¯åŒ¹é…é€»è¾‘ï¼š
- æ¥æ”¶åˆ° `gender: 0` æ—¶ï¼ŒæŸ¥è¯¢æ•°æ®åº“ä¸­ `gender = 0` çš„ç”¨æˆ·ï¼ˆå¥³ç”Ÿï¼‰
- æ¥æ”¶åˆ° `gender: 1` æ—¶ï¼ŒæŸ¥è¯¢æ•°æ®åº“ä¸­ `gender = 1` çš„ç”¨æˆ·ï¼ˆç”·ç”Ÿï¼‰

## ğŸ§ª æµ‹è¯•éªŒè¯

### æµ‹è¯•åœºæ™¯ï¼š
1. **ç”·ç”¨æˆ·é€‰æ‹©åŒ¹é…å¥³ç”Ÿ**ï¼š
   - å‰ç«¯å‘é€ï¼š`gender: 0`
   - åç«¯æŸ¥è¯¢ï¼š`WHERE gender = 0`
   - é¢„æœŸç»“æœï¼šè¿”å›å¥³æ€§ç”¨æˆ·

2. **å¥³ç”¨æˆ·é€‰æ‹©åŒ¹é…ç”·ç”Ÿ**ï¼š
   - å‰ç«¯å‘é€ï¼š`gender: 1`
   - åç«¯æŸ¥è¯¢ï¼š`WHERE gender = 1`
   - é¢„æœŸç»“æœï¼šè¿”å›ç”·æ€§ç”¨æˆ·

### éªŒè¯æ­¥éª¤ï¼š
1. é‡å¯åç«¯æœåŠ¡
2. ä½¿ç”¨ä¸åŒæ€§åˆ«çš„ç”¨æˆ·è´¦å·ç™»å½•
3. è¿›å…¥å¿ƒåŠ¨é€Ÿé…é¡µé¢
4. é€‰æ‹©è¦åŒ¹é…çš„æ€§åˆ«
5. éªŒè¯åŒ¹é…ç»“æœæ˜¯å¦ç¬¦åˆé¢„æœŸ

## ğŸ¯ å½±å“èŒƒå›´

### ä¿®å¤çš„æ–‡ä»¶ï¼š
1. `lovelink-user/src/main/java/com/zhentao/service/impl/UserServiceImpl.java`
2. `lovelink-user/src/main/java/com/zhentao/controller/UserController.java`
3. `lovelink-user/src/main/java/com/zhentao/dto/HeartMatchDTO.java`
4. `abab_uniapp/pages/game/heart-match.vue`

### ä¸å—å½±å“çš„åŠŸèƒ½ï¼š
- ç”¨æˆ·æ³¨å†Œæ—¶çš„æ€§åˆ«è®¾ç½®
- ç”¨æˆ·èµ„æ–™æ˜¾ç¤º
- å…¶ä»–åŸºäºæ€§åˆ«çš„ç­›é€‰åŠŸèƒ½

## ğŸš€ éƒ¨ç½²è¯´æ˜

### åç«¯éƒ¨ç½²ï¼š
1. é‡æ–°ç¼–è¯‘å¹¶å¯åŠ¨ `lovelink-user` æœåŠ¡
2. éªŒè¯å¿ƒåŠ¨é€Ÿé…æ¥å£æ­£å¸¸å·¥ä½œ

### å‰ç«¯éƒ¨ç½²ï¼š
1. é‡æ–°ç¼–è¯‘å‰ç«¯åº”ç”¨
2. æµ‹è¯•å¿ƒåŠ¨é€Ÿé…é¡µé¢çš„æ€§åˆ«é€‰æ‹©åŠŸèƒ½

## ğŸ“ æ³¨æ„äº‹é¡¹

1. **æ•°æ®ä¸€è‡´æ€§**ï¼šç¡®ä¿æ•°æ®åº“ä¸­ç”¨æˆ·çš„æ€§åˆ«å­—æ®µä½¿ç”¨æ­£ç¡®çš„ç¼–ç ï¼ˆ0-å¥³ï¼Œ1-ç”·ï¼‰
2. **APIæ–‡æ¡£æ›´æ–°**ï¼šæ›´æ–°ç›¸å…³APIæ–‡æ¡£ï¼Œè¯´æ˜æ­£ç¡®çš„æ€§åˆ«ç¼–ç 
3. **æµ‹è¯•è¦†ç›–**ï¼šå¢åŠ é’ˆå¯¹æ€§åˆ«åŒ¹é…çš„å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
4. **ç”¨æˆ·ä½“éªŒ**ï¼šç¡®ä¿ä¿®å¤åç”¨æˆ·èƒ½å¤Ÿæ­£ç¡®åŒ¹é…åˆ°æœŸæœ›æ€§åˆ«çš„ç”¨æˆ·

## ğŸ‰ ä¿®å¤æ•ˆæœ

ä¿®å¤åï¼Œå¿ƒåŠ¨é€Ÿé…åŠŸèƒ½å°†èƒ½å¤Ÿï¼š
- æ­£ç¡®åŒ¹é…ç”¨æˆ·é€‰æ‹©çš„æ€§åˆ«
- æä¾›å‡†ç¡®çš„åŒ¹é…ç»“æœ
- æ”¹å–„ç”¨æˆ·ä½“éªŒ
- é¿å…æ€§åˆ«åŒ¹é…é”™è¯¯çš„é—®é¢˜

è¿™ä¸ªä¿®å¤ç¡®ä¿äº†å¿ƒåŠ¨é€Ÿé…åŠŸèƒ½æŒ‰ç…§ç”¨æˆ·çš„çœŸå®æ„å›¾å·¥ä½œï¼Œæå‡äº†åŠŸèƒ½çš„å‡†ç¡®æ€§å’Œç”¨æˆ·æ»¡æ„åº¦ã€‚
