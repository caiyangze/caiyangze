# 聊巴项目微服务架构任务分配方案

根据项目的微服务架构和团队成员情况，以下是详细的任务分配方案，具体到每个API请求路径。

## 团队成员：

1. 王恒飞（组长）

1. 郭宸玮

1. 吴瑞琛

1. 陈明毅

1. 辛佳音

## 一、王恒飞（组长）

负责模块：网关服务(lovelink-gateway) + 管理服务(lovelink-admin) + 项目整体架构

### 1. 网关服务(lovelink-gateway)

- 实现API网关，处理请求路由、负载均衡、权限验证

- 配置路由规则，区分用户端和管理端请求

- 实现全局过滤器，处理跨域、限流、日志等

API路径:

/api/gateway/health - 网关健康检查
/api/gateway/routes - 路由信息查询

### 2. 管理服务(lovelink-admin)

- 实现管理员账号体系

- 开发权限与角色管理功能

- 实现系统配置管理

- 开发操作日志记录功能

- 实现数据统计看板

API路径:

###### 管理员账号
/api/admin/login - 管理员登录
/api/admin/logout - 管理员登出
/api/admin/info - 获取当前管理员信息
/api/admin/password - 修改密码

###### 管理员管理
/api/admin/user/list - 管理员列表
/api/admin/user/add - 添加管理员
/api/admin/user/update - 更新管理员信息
/api/admin/user/delete - 删除管理员
/api/admin/user/status - 更改管理员状态

###### 角色管理
/api/admin/role/list - 角色列表
/api/admin/role/add - 添加角色
/api/admin/role/update - 更新角色
/api/admin/role/delete - 删除角色
/api/admin/role/permission - 分配权限

###### 权限管理
/api/admin/permission/list - 权限列表
/api/admin/permission/tree - 权限树形结构

###### 菜单管理
/api/admin/menu/list - 菜单列表
/api/admin/menu/add - 添加菜单
/api/admin/menu/update - 更新菜单
/api/admin/menu/delete - 删除菜单
/api/admin/menu/tree - 菜单树形结构

###### 系统配置
/api/admin/config/list - 配置列表
/api/admin/config/add - 添加配置
/api/admin/config/update - 更新配置
/api/admin/config/delete - 删除配置

###### 操作日志
/api/admin/log/operation - 操作日志列表
/api/admin/log/login - 登录日志列表

###### 数据看板
/api/admin/dashboard/overview - 系统概览数据
/api/admin/dashboard/user - 用户数据统计
/api/admin/dashboard/business - 业务数据统计

### 3. 项目整体架构

- 负责项目框架搭建和技术选型

- 协调各服务间的集成

- 解决跨服务问题

- 负责项目进度管理和团队协调

## 二、郭宸玮

负责模块：用户服务(lovelink-user)

### 1. 用户端功能

- 实现用户注册、登录功能

- 开发个人资料管理功能

- 实现用户认证和授权系统

- 开发用户标签、择偶标准功能

- 实现相册管理功能

- 开发VIP会员管理功能

API路径:

###### 用户账号
/api/user/register - 用户注册
/api/user/login - 用户登录
/api/user/logout - 用户登出
/api/user/password/reset - 重置密码
/api/user/password/update - 修改密码
/api/user/phone/bind - 绑定手机号
/api/user/phone/verify - 验证手机号

###### 用户资料
/api/user/profile/get - 获取个人资料
/api/user/profile/update - 更新个人资料
/api/user/profile/detail - 获取详细资料
/api/user/profile/view/{userId} - 查看其他用户资料

###### 实名认证
/api/user/auth/submit - 提交认证信息
/api/user/auth/status - 查询认证状态

###### 用户标签
/api/user/tag/list - 获取标签列表
/api/user/tag/add - 添加标签
/api/user/tag/delete - 删除标签

###### 择偶标准
/api/user/preference/get - 获取择偶标准
/api/user/preference/update - 更新择偶标准

###### 相册管理
/api/user/photo/list - 获取相册列表
/api/user/photo/upload - 上传照片
/api/user/photo/delete - 删除照片
/api/user/photo/setAvatar - 设置头像
/api/user/photo/privacy - 设置照片隐私

###### VIP会员
/api/user/vip/info - 获取VIP信息
/api/user/vip/purchase - 购买VIP
/api/user/vip/benefits - 查看VIP权益

### 2. 管理端功能

- 用户账号管理（审核、冻结、解封）

- 用户资料审核功能

- 用户认证信息管理

- VIP会员管理

API路径：

###### 用户管理
/api/user/admin/list - 用户列表查询
/api/user/admin/detail - 用户详情查看
/api/user/admin/status - 更改用户状态（冻结/解封）
/api/user/admin/delete - 删除用户

###### 资料审核
/api/user/admin/profile/audit - 资料审核列表
/api/user/admin/profile/approve - 审核通过
/api/user/admin/profile/reject - 审核拒绝

###### 认证管理
/api/user/admin/auth/list - 认证申请列表
/api/user/admin/auth/approve - 认证通过
/api/user/admin/auth/reject - 认证拒绝

###### VIP管理
/api/user/admin/vip/list - VIP用户列表
/api/user/admin/vip/add - 添加VIP权益
/api/user/admin/vip/revoke - 撤销VIP权益
/api/user/admin/vip/config - VIP配置管理

## 三、吴瑞琛

负责模块：社交服务(lovelink-social)

### 1. 用户端功能

- 实现用户关注、留言功能

- 开发访客记录、点赞功能

- 实现用户间的互动通知系统

- 开发社交推荐算法

API路径:

###### 关注功能
/api/social/follow/add - 关注用户
/api/social/follow/cancel - 取消关注
/api/social/follow/list/following - 获取关注列表
/api/social/follow/list/followers - 获取粉丝列表
/api/social/follow/check - 检查是否关注

###### 留言功能
/api/social/message/send - 发送留言
/api/social/message/list/received - 获取收到的留言
/api/social/message/list/sent - 获取发送的留言
/api/social/message/delete - 删除留言
/api/social/message/reply - 回复留言

###### 访客记录
/api/social/visitor/list - 获取访客记录
/api/social/visitor/count - 获取新访客数量
/api/social/visitor/clear - 清除访客记录

###### 点赞功能
/api/social/like/add - 点赞
/api/social/like/cancel - 取消点赞
/api/social/like/list - 获取点赞列表
/api/social/like/count - 获取点赞数量

###### 互动通知
/api/social/notification/list - 获取通知列表
/api/social/notification/count - 获取未读通知数量
/api/social/notification/read - 标记通知为已读
/api/social/notification/clear - 清除通知

###### 社交推荐
/api/social/recommend/users - 获取推荐用户
/api/social/recommend/refresh - 刷新推荐
/api/social/recommend/feedback - 提交推荐反馈

### 2. 管理端功能

- 用户互动监控

- 不良内容审核

- 社交数据分析

- 用户举报处理

API路径:

###### 互动监控
/api/social/admin/monitor/overview - 互动概览
/api/social/admin/monitor/message - 留言监控
/api/social/admin/monitor/follow - 关注监控

###### 内容审核
/api/social/admin/audit/message - 留言审核列表
/api/social/admin/audit/approve - 审核通过
/api/social/admin/audit/reject - 审核拒绝
/api/social/admin/audit/sensitive - 敏感词管理

###### 举报处理
/api/social/admin/report/list - 举报列表
/api/social/admin/report/process - 处理举报
/api/social/admin/report/statistics - 举报统计

###### 数据分析
/api/social/admin/statistics/interaction - 互动数据统计
/api/social/admin/statistics/trend - 趋势分析
/api/social/admin/statistics/export - 数据导出

## 四、陈明毅

负责模块：红娘服务(lovelink-matchmaker) + 娱乐服务(lovelink-game)

### 1. 红娘服务(lovelink-matchmaker)

#### 1.1 用户端功能

- 实现红娘资质管理、牵线申请功能

- 开发约会安排、红娘评价系统

API路径:

###### 红娘信息
/api/matchmaker/info/list - 获取红娘列表
/api/matchmaker/info/detail - 查看红娘详情
/api/matchmaker/info/apply - 申请成为红娘

###### 牵线申请
/api/matchmaker/request/submit - 提交牵线申请
/api/matchmaker/request/cancel - 取消牵线申请
/api/matchmaker/request/list - 查看申请列表
/api/matchmaker/request/status - 查询申请状态

###### 约会安排
/api/matchmaker/date/list - 获取约会安排列表
/api/matchmaker/date/detail - 查看约会详情
/api/matchmaker/date/confirm - 确认约会
/api/matchmaker/date/cancel - 取消约会
/api/matchmaker/date/feedback - 提交约会反馈

###### 红娘评价
/api/matchmaker/feedback/submit - 提交评价
/api/matchmaker/feedback/list - 查看评价列表

#### 1.2 管理端功能

- 红娘资质审核

- 约会活动管理

- 红娘业绩统计

API路径:

###### 红娘管理
/api/matchmaker/admin/list - 红娘列表
/api/matchmaker/admin/verify - 资质审核
/api/matchmaker/admin/status - 更改红娘状态
/api/matchmaker/admin/level - 设置红娘等级

###### 约会管理
/api/matchmaker/admin/date/list - 约会列表
/api/matchmaker/admin/date/arrange - 安排约会
/api/matchmaker/admin/date/cancel - 取消约会
/api/matchmaker/admin/date/venue - 约会场地管理

###### 业绩统计
/api/matchmaker/admin/performance/overview - 业绩概览
/api/matchmaker/admin/performance/detail - 业绩详情
/api/matchmaker/admin/performance/ranking - 红娘排行
/api/matchmaker/admin/performance/commission - 分成管理

### 2. 娱乐服务(lovelink-game)

#### 2.1 用户端功能

- 实现心动游戏、游戏匹配功能

- 开发语音房、线上派对功能

API路径:

# 游戏列表
/api/game/list - 获取游戏列表
/api/game/detail - 查看游戏详情
/api/game/category - 游戏分类

###### 游戏房间
/api/game/room/create - 创建游戏房间
/api/game/room/join - 加入游戏房间
/api/game/room/leave - 离开游戏房间
/api/game/room/list - 获取房间列表
/api/game/room/info - 获取房间信息

###### 游戏匹配
/api/game/match/start - 开始匹配
/api/game/match/cancel - 取消匹配
/api/game/match/status - 查询匹配状态

###### 游戏结果
/api/game/result/save - 保存游戏结果
/api/game/result/list - 查看历史结果
/api/game/result/analysis - 获取匹配分析

###### 语音房
/api/game/voice/create - 创建语音房
/api/game/voice/join - 加入语音房
/api/game/voice/leave - 离开语音房
/api/game/voice/list - 获取语音房列表

###### 线上派对
/api/game/party/create - 创建派对
/api/game/party/join - 加入派对
/api/game/party/leave - 离开派对
/api/game/party/list - 获取派对列表
/api/game/party/invite - 邀请好友

#### 2.2 管理端功能

- 游戏配置管理

- 房间监控管理

- 游戏数据统计

API路径:

###### 游戏管理
/api/game/admin/list - 游戏列表管理
/api/game/admin/add - 添加游戏
/api/game/admin/update - 更新游戏
/api/game/admin/delete - 删除游戏
/api/game/admin/status - 更改游戏状态

###### 配置管理
/api/game/admin/config/list - 配置列表
/api/game/admin/config/update - 更新配置
/api/game/admin/config/params - 参数设置

###### 房间监控
/api/game/admin/room/monitor - 房间监控列表
/api/game/admin/room/close - 关闭房间
/api/game/admin/room/warning - 发送警告

###### 数据统计
/api/game/admin/statistics/usage - 使用情况统计
/api/game/admin/statistics/popular - 热门游戏分析
/api/game/admin/statistics/user - 用户参与度分析

## 五、辛佳音

负责模块：内容服务(lovelink-content)

### 1. 用户端功能

- 实现动态发布、评论功能

- 开发话题管理、热门推荐功能

- 实现社区管理、内容互动功能

- 开发内容搜索功能

API路径:

# 动态管理
/api/content/post/publish - 发布动态
/api/content/post/delete - 删除动态
/api/content/post/list - 获取动态列表
/api/content/post/detail - 获取动态详情
/api/content/post/timeline - 获取关注动态流

# 评论功能
/api/content/comment/add - 添加评论
/api/content/comment/delete - 删除评论
/api/content/comment/list - 获取评论列表
/api/content/comment/reply - 回复评论

###### 话题功能
/api/content/topic/list - 获取话题列表
/api/content/topic/detail - 获取话题详情
/api/content/topic/join - 参与话题
/api/content/topic/posts - 获取话题下的动态

###### 社区功能
/api/content/community/list - 获取社区列表
/api/content/community/detail - 获取社区详情
/api/content/community/join - 加入社区
/api/content/community/leave - 退出社区
/api/content/community/posts - 获取社区动态

###### 内容互动
/api/content/interaction/like - 点赞内容
/api/content/interaction/collect - 收藏内容
/api/content/interaction/share - 分享内容
/api/content/interaction/report - 举报内容

###### 内容搜索
/api/content/search/post - 搜索动态
/api/content/search/topic - 搜索话题
/api/content/search/community - 搜索社区
/api/content/search/hot - 获取热搜榜

###### 内容推荐
/api/content/recommend/hot - 热门推荐
/api/content/recommend/personalized - 个性化推荐
/api/content/recommend/nearby - 附近内容

### 2. 管理端功能

- 内容审核管理

- 话题创建与管理

- 社区运营管理

- 内容数据分析

API路径:

###### 内容审核
/api/content/admin/audit/post - 动态审核列表
/api/content/admin/audit/comment - 评论审核列表
/api/content/admin/audit/approve - 审核通过
/api/content/admin/audit/reject - 审核拒绝
/api/content/admin/audit/sensitive - 敏感词管理

###### 话题管理
/api/content/admin/topic/list - 话题列表
/api/content/admin/topic/add - 创建话题
/api/content/admin/topic/update - 更新话题
/api/content/admin/topic/delete - 删除话题
/api/content/admin/topic/recommend - 设置推荐话题

###### 社区管理
/api/content/admin/community/list - 社区列表
/api/content/admin/community/add - 创建社区
/api/content/admin/community/update - 更新社区
/api/content/admin/community/delete - 删除社区
/api/content/admin/community/status - 更改社区状态

###### 热门配置
/api/content/admin/hot/list - 热门内容列表
/api/content/admin/hot/set - 设置热门
/api/content/admin/hot/cancel - 取消热门
/api/content/admin/hot/rank - 调整热门排序

###### 数据分析
/api/content/admin/statistics/post - 动态数据统计
/api/content/admin/statistics/topic - 话题数据统计
/api/content/admin/statistics/community - 社区数据统计
/api/content/admin/statistics/user - 用户活跃度分析

## 服务间调用关系

1. 用户服务：作为基础服务，被其他所有服务调用获取用户信息

1. 社交服务：调用用户服务获取用户信息，被内容服务调用获取社交关系

1. 红娘服务：调用用户服务获取用户信息，调用社交服务获取社交关系

1. 娱乐服务：调用用户服务获取用户信息，调用社交服务获取社交关系

1. 内容服务：调用用户服务获取用户信息，调用社交服务获取社交关系

1. 管理服务：调用所有其他服务获取管理数据

## 开发流程建议

1. 基础架构搭建：王恒飞负责完成基础架构搭建和网关服务实现

1. 核心服务开发：郭宸玮优先完成用户服务，为其他服务提供支持

1. 并行开发：其他成员在用户服务基本完成后，并行开发各自负责的服务

1. 集成测试：各服务开发到一定阶段后，进行集成测试，解决跨服务调用问题

1. 管理端开发：在用户端功能基本完成后，各成员开发各自负责服务的管理端功能

这个任务分配方案考虑了每个微服务的功能复杂度和相互依赖关系，确保团队成员的工作负载相对均衡，同时保证项目能够有序推进。