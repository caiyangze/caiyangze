<view class="chat-page data-v-013fa921"><view class="bg-layer data-v-013fa921"><view class="bg-gradient data-v-013fa921"></view><view class="overlay-gradient data-v-013fa921"></view></view><view class="content-container data-v-013fa921"><view class="chat-header data-v-013fa921"><view class="header-left data-v-013fa921" bindtap="{{a}}"><text class="back-icon data-v-013fa921">‹</text></view><view class="header-center data-v-013fa921"><image class="user-avatar data-v-013fa921" src="{{c}}" mode="aspectFill" binderror="{{d}}"><view wx:if="{{b}}" class="avatar-placeholder data-v-013fa921"></view></image><view class="user-info data-v-013fa921"><text class="user-name data-v-013fa921">{{e}}</text><text class="{{['online-status', 'data-v-013fa921', g && 'online']}}">{{f}}</text></view></view><view class="header-right data-v-013fa921"><text class="more-icon data-v-013fa921">⋯</text></view></view><scroll-view class="message-list data-v-013fa921" scroll-y scroll-into-view="{{j}}" scroll-top="{{k}}" bindscrolltoupper="{{l}}"><view wx:if="{{h}}" class="loading-more data-v-013fa921"><text class="data-v-013fa921">加载中...</text></view><view wx:for="{{i}}" wx:for-item="message" wx:key="C" id="{{message.D}}" class="{{['message-item', 'data-v-013fa921', message.E && 'message-self']}}"><view wx:if="{{message.a}}" class="time-divider data-v-013fa921"><text class="data-v-013fa921">{{message.b}}</text></view><view class="message-content data-v-013fa921"><block wx:if="{{message.c}}"><image class="message-avatar data-v-013fa921" src="{{message.d}}" mode="aspectFill" binderror="{{message.e}}"></image><view class="message-bubble data-v-013fa921"><text wx:if="{{message.f}}" class="message-text data-v-013fa921">{{message.g}}</text><image wx:elif="{{message.h}}" class="message-image data-v-013fa921" src="{{message.i}}" mode="aspectFit" bindtap="{{message.j}}"></image><text wx:else class="message-text data-v-013fa921">{{message.k}}</text></view></block><block wx:else><view class="message-status-outside data-v-013fa921"><text wx:if="{{message.l}}" class="status-sending data-v-013fa921">发送中</text><text wx:elif="{{message.m}}" class="status-sent data-v-013fa921">已发送</text><text wx:elif="{{message.n}}" class="status-read data-v-013fa921">已读</text><text wx:elif="{{message.o}}" class="status-failed data-v-013fa921" bindtap="{{message.p}}">重发</text></view><view class="message-bubble bubble-self data-v-013fa921"><text wx:if="{{message.q}}" class="message-text data-v-013fa921">{{message.r}}</text><image wx:elif="{{message.s}}" class="message-image data-v-013fa921" src="{{message.t}}" mode="aspectFit" bindtap="{{message.v}}"></image><text wx:else class="message-text data-v-013fa921">{{message.w}}</text></view><view class="avatar-wrapper data-v-013fa921"><image class="message-avatar data-v-013fa921" src="{{message.x}}" mode="aspectFill" binderror="{{message.y}}" bindload="{{message.z}}"></image><view wx:if="{{message.A}}" class="avatar-placeholder data-v-013fa921"><text class="avatar-text data-v-013fa921">{{message.B}}</text></view></view></block></view></view><view class="data-v-013fa921" id="bottom-anchor" style="height:1px"></view></scroll-view><view class="input-area data-v-013fa921"><view class="input-container data-v-013fa921"><view class="input-tools data-v-013fa921"><text class="tool-icon data-v-013fa921" bindtap="{{m}}">😊</text><text class="tool-icon data-v-013fa921" bindtap="{{n}}">📷</text></view><input class="message-input data-v-013fa921" placeholder="输入消息..." bindfocus="{{o}}" bindblur="{{p}}" bindinput="{{q}}" bindconfirm="{{r}}" value="{{s}}"/><view class="{{['send-button', 'data-v-013fa921', t && 'active']}}" bindtap="{{v}}"><text class="data-v-013fa921">发送</text></view></view></view></view></view>