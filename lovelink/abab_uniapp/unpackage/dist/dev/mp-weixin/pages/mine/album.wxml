<view class="album-page data-v-e7901737"><view class="bg-layer data-v-e7901737"><view class="bg-gradient data-v-e7901737"></view><view class="overlay-gradient data-v-e7901737"></view></view><view class="custom-navbar data-v-e7901737" style="{{'padding-top:' + h}}"><view class="navbar-content data-v-e7901737"><view class="nav-left data-v-e7901737" bindtap="{{a}}"><text class="nav-icon data-v-e7901737">←</text></view><view class="nav-center data-v-e7901737"><text class="nav-title data-v-e7901737">我的相册</text></view><view class="nav-right data-v-e7901737"><view wx:if="{{b}}" class="nav-btn data-v-e7901737" bindtap="{{c}}"><text class="nav-icon data-v-e7901737">⋮⋮</text></view><view wx:if="{{d}}" class="nav-btn data-v-e7901737" bindtap="{{e}}"><text class="nav-icon data-v-e7901737">+</text></view><view wx:if="{{f}}" class="nav-btn done-btn data-v-e7901737" bindtap="{{g}}"><text class="nav-text data-v-e7901737">完成</text></view></view></view></view><scroll-view scroll-y class="scroll-container data-v-e7901737" style="{{'padding-top:' + q}}" bindscrolltolower="{{r}}"><view wx:if="{{i}}" class="loading-container data-v-e7901737"><view class="loading-spinner data-v-e7901737"></view><text class="loading-text data-v-e7901737">加载中...</text></view><view wx:elif="{{j}}" class="photo-grid data-v-e7901737"><view class="photo-list data-v-e7901737"><view wx:for="{{k}}" wx:for-item="photo" wx:key="n" class="{{['photo-item', 'data-v-e7901737', photo.o && 'is-dragging']}}"><view class="photo-container data-v-e7901737" bindtap="{{photo.i}}" bindtouchstart="{{photo.j}}" bindtouchmove="{{photo.k}}" bindtouchend="{{photo.l}}" bindlongpress="{{photo.m}}"><image src="{{photo.a}}" mode="aspectFill" class="photo-image data-v-e7901737"/><view wx:if="{{l}}" class="drag-order data-v-e7901737"><text class="drag-order-text data-v-e7901737">{{photo.b}}</text></view><view wx:if="{{photo.c}}" class="avatar-badge data-v-e7901737"><text class="avatar-text data-v-e7901737">头像</text></view><view class="privacy-toggle data-v-e7901737" catchtap="{{photo.e}}"><text class="privacy-icon data-v-e7901737">{{photo.d}}</text></view><view class="more-actions data-v-e7901737" catchtap="{{photo.f}}"><text class="more-icon data-v-e7901737">⋯</text></view><view wx:if="{{photo.g}}" class="photo-desc-overlay data-v-e7901737"><text class="photo-desc-text data-v-e7901737">{{photo.h}}</text></view></view></view></view></view><view wx:else class="empty-state data-v-e7901737"><text class="empty-icon data-v-e7901737">📷</text><text class="empty-text data-v-e7901737">还没有照片</text><text class="empty-desc data-v-e7901737">点击右上角"+"添加照片</text><view class="empty-button data-v-e7901737" bindtap="{{m}}"><text class="button-text data-v-e7901737">添加照片</text></view></view><view wx:if="{{n}}" class="load-more data-v-e7901737"><view wx:if="{{o}}" class="loading-more data-v-e7901737"><view class="loading-spinner-small data-v-e7901737"></view><text class="loading-text-small data-v-e7901737">加载中...</text></view><text wx:else class="load-more-text data-v-e7901737">上拉加载更多</text></view><view wx:if="{{p}}" class="no-more data-v-e7901737"><text class="no-more-text data-v-e7901737">没有更多照片了</text></view><view class="bottom-placeholder data-v-e7901737"></view></scroll-view><view wx:if="{{s}}" class="upload-modal data-v-e7901737"><view class="upload-content data-v-e7901737"><view class="upload-progress data-v-e7901737"><view class="progress-bar data-v-e7901737"><view class="progress-fill data-v-e7901737" style="{{'width:' + t}}"></view></view><text class="progress-text data-v-e7901737">{{v}}%</text></view><text class="upload-text data-v-e7901737">正在上传照片...</text></view></view><view wx:if="{{w}}" class="modern-modal data-v-e7901737" bindtap="{{K}}"><view class="modal-content data-v-e7901737" catchtap="{{J}}"><view class="modal-header data-v-e7901737"><view class="header-icon data-v-e7901737">📸</view><text class="modal-title data-v-e7901737">上传照片</text><text class="photo-count data-v-e7901737">{{x}}张</text></view><view class="modal-body data-v-e7901737"><view class="form-section data-v-e7901737"><view class="section-title data-v-e7901737"><text class="title-icon data-v-e7901737">✏️</text><text class="title-text data-v-e7901737">添加描述</text></view><view class="textarea-container data-v-e7901737"><block wx:if="{{r0}}"><textarea class="modern-textarea data-v-e7901737" placeholder="分享这一刻的心情..." maxlength="200" auto-height value="{{y}}" bindinput="{{z}}"/></block><text class="char-counter data-v-e7901737">{{A}}/200</text></view></view><view class="form-section data-v-e7901737"><view class="section-title data-v-e7901737"><text class="title-icon data-v-e7901737">🔐</text><text class="title-text data-v-e7901737">隐私设置</text></view><view class="privacy-selector data-v-e7901737"><view class="{{['privacy-card', 'data-v-e7901737', C && 'selected']}}" bindtap="{{D}}"><view class="card-icon data-v-e7901737">🌍</view><view class="card-content data-v-e7901737"><text class="card-title data-v-e7901737">公开</text><text class="card-desc data-v-e7901737">所有人可见</text></view><view wx:if="{{B}}" class="card-check data-v-e7901737">✓</view></view><view class="{{['privacy-card', 'data-v-e7901737', F && 'selected']}}" bindtap="{{G}}"><view class="card-icon data-v-e7901737">🔒</view><view class="card-content data-v-e7901737"><text class="card-title data-v-e7901737">私密</text><text class="card-desc data-v-e7901737">仅自己可见</text></view><view wx:if="{{E}}" class="card-check data-v-e7901737">✓</view></view></view></view></view><view class="modal-footer data-v-e7901737"><button class="modern-btn cancel data-v-e7901737" bindtap="{{H}}">取消</button><button class="modern-btn primary data-v-e7901737" bindtap="{{I}}"><text class="btn-text data-v-e7901737">上传</text><text class="btn-icon data-v-e7901737">🚀</text></button></view></view></view><view wx:if="{{L}}" class="modern-modal data-v-e7901737" bindtap="{{Y}}"><view class="modal-content data-v-e7901737" catchtap="{{X}}"><view class="modal-header data-v-e7901737"><view class="header-icon data-v-e7901737">✏️</view><text class="modal-title data-v-e7901737">编辑照片</text></view><view class="modal-body data-v-e7901737"><view class="form-section data-v-e7901737"><view class="section-title data-v-e7901737"><text class="title-icon data-v-e7901737">📝</text><text class="title-text data-v-e7901737">修改描述</text></view><view class="textarea-container data-v-e7901737"><block wx:if="{{r0}}"><textarea class="modern-textarea data-v-e7901737" placeholder="为这张照片添加描述..." maxlength="200" auto-height value="{{M}}" bindinput="{{N}}"/></block><text class="char-counter data-v-e7901737">{{O}}/200</text></view></view><view class="form-section data-v-e7901737"><view class="section-title data-v-e7901737"><text class="title-icon data-v-e7901737">🔐</text><text class="title-text data-v-e7901737">隐私设置</text></view><view class="privacy-selector data-v-e7901737"><view class="{{['privacy-card', 'data-v-e7901737', Q && 'selected']}}" bindtap="{{R}}"><view class="card-icon data-v-e7901737">🌍</view><view class="card-content data-v-e7901737"><text class="card-title data-v-e7901737">公开</text><text class="card-desc data-v-e7901737">所有人可见</text></view><view wx:if="{{P}}" class="card-check data-v-e7901737">✓</view></view><view class="{{['privacy-card', 'data-v-e7901737', T && 'selected']}}" bindtap="{{U}}"><view class="card-icon data-v-e7901737">🔒</view><view class="card-content data-v-e7901737"><text class="card-title data-v-e7901737">私密</text><text class="card-desc data-v-e7901737">仅自己可见</text></view><view wx:if="{{S}}" class="card-check data-v-e7901737">✓</view></view></view></view></view><view class="modal-footer data-v-e7901737"><button class="modern-btn cancel data-v-e7901737" bindtap="{{V}}">取消</button><button class="modern-btn primary data-v-e7901737" bindtap="{{W}}"><text class="btn-text data-v-e7901737">保存</text><text class="btn-icon data-v-e7901737">💾</text></button></view></view></view></view>