{"version":3,"file":"voucher.js","sources":["api/voucher.js"],"sourcesContent":["import http from './http.js'\r\n\r\n/**\r\n * 优惠券相关API\r\n */\r\n\r\n// 获取优惠券列表\r\nexport function getVoucherList(params = {}) {\r\n  return http.request({\r\n    url: '/voucher/list',\r\n    method: 'POST',\r\n    data: Object.assign({\r\n      pageNum: params.pageNum || 1,\r\n      pageSize: params.pageSize || 10\r\n    }, params),\r\n    hideErrorToast: true // 让页面自己处理错误提示\r\n  })\r\n}\r\n\r\n// 秒杀优惠券\r\nexport function seckillVoucher(voucherId) {\r\n  return http.request({\r\n    url: `/voucher/seckill?voucherId=${voucherId}`,\r\n    method: 'POST',\r\n    hideErrorToast: true // 禁用自动错误提示，让页面自己处理\r\n  })\r\n}\r\n\r\n// 获取我的优惠券列表\r\nexport function getMyVoucherList(params = {}) {\r\n  return http.request({\r\n    url: '/voucher/getMyVoucherList',\r\n    method: 'POST',\r\n    data: {\r\n      pageNum: params.pageNum || 1,\r\n      pageSize: params.pageSize || 10,\r\n      status: params.status, // 1-未使用，2-已使用，3-已过期\r\n      ...params\r\n    },\r\n    hideErrorToast: true // 让页面自己处理错误提示\r\n  })\r\n}\r\n\r\n// 获取我的可用优惠券（用于消费时选择）\r\nexport function getMyAvailableVouchers(params = {}) {\r\n  return http.request({\r\n    url: '/voucher/getMyVoucherList',\r\n    method: 'POST',\r\n    data: {\r\n      pageNum: 1,\r\n      pageSize: 100,\r\n      status: 2, // 2-已支付（未使用）\r\n      ...params\r\n    },\r\n    hideErrorToast: true\r\n  })\r\n}\r\n"],"names":["http"],"mappings":";;AAOO,SAAS,eAAe,SAAS,IAAI;AAC1C,SAAOA,SAAAA,KAAK,QAAQ;AAAA,IAClB,KAAK;AAAA,IACL,QAAQ;AAAA,IACR,MAAM,OAAO,OAAO;AAAA,MAClB,SAAS,OAAO,WAAW;AAAA,MAC3B,UAAU,OAAO,YAAY;AAAA,IAC9B,GAAE,MAAM;AAAA,IACT,gBAAgB;AAAA;AAAA,EACpB,CAAG;AACH;AAGO,SAAS,eAAe,WAAW;AACxC,SAAOA,SAAAA,KAAK,QAAQ;AAAA,IAClB,KAAK,8BAA8B,SAAS;AAAA,IAC5C,QAAQ;AAAA,IACR,gBAAgB;AAAA;AAAA,EACpB,CAAG;AACH;AAGO,SAAS,iBAAiB,SAAS,IAAI;AAC5C,SAAOA,SAAAA,KAAK,QAAQ;AAAA,IAClB,KAAK;AAAA,IACL,QAAQ;AAAA,IACR,MAAM;AAAA,MACJ,SAAS,OAAO,WAAW;AAAA,MAC3B,UAAU,OAAO,YAAY;AAAA,MAC7B,QAAQ,OAAO;AAAA;AAAA,MACf,GAAG;AAAA,IACJ;AAAA,IACD,gBAAgB;AAAA;AAAA,EACpB,CAAG;AACH;AAGO,SAAS,uBAAuB,SAAS,IAAI;AAClD,SAAOA,SAAAA,KAAK,QAAQ;AAAA,IAClB,KAAK;AAAA,IACL,QAAQ;AAAA,IACR,MAAM;AAAA,MACJ,SAAS;AAAA,MACT,UAAU;AAAA,MACV,QAAQ;AAAA;AAAA,MACR,GAAG;AAAA,IACJ;AAAA,IACD,gBAAgB;AAAA,EACpB,CAAG;AACH;;;;;"}
