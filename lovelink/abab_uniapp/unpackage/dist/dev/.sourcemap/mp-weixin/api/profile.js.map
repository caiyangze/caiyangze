{"version":3,"file":"profile.js","sources":["api/profile.js"],"sourcesContent":["import http from './http';\r\n\r\n// 用户资料相关API\r\nconst profileApi = {\r\n  /**\r\n   * 创建用户资料\r\n   * @param {Object} data - 用户资料数据\r\n   * @returns {Promise} - 请求Promise\r\n   */\r\n  createProfile(data) {\r\n    return http.post('/profile/create', data);\r\n  },\r\n\r\n  /**\r\n   * 更新用户资料\r\n   * @param {Object} data - 用户资料数据\r\n   * @returns {Promise} - 请求Promise\r\n   */\r\n  updateProfile(data) {\r\n    return http.put('/profile/update', data);\r\n  },\r\n\r\n  /**\r\n   * 获取用户资料\r\n   * @param {String|Number} id - 用户ID\r\n   * @returns {Promise} - 请求Promise\r\n   */\r\n  getProfile(id) {\r\n    return http.get(`/profile/detail/${id}`);\r\n  },\r\n\r\n  /**\r\n   * 获取当前登录用户的资料\r\n   * @returns {Promise} - 请求Promise\r\n   */\r\n  getMyProfile() {\r\n    return http.get('/profile/my');\r\n  },\r\n  \r\n  /**\r\n   * 上传证书图片\r\n   * @param {String} filePath - 本地文件路径\r\n   * @returns {Promise} - 请求Promise\r\n   */\r\n  uploadCertificate(filePath) {\r\n    return new Promise((resolve, reject) => {\r\n      uni.uploadFile({\r\n        url: http.baseUrl + '/upload/certificate',\r\n        filePath: filePath,\r\n        name: 'file',\r\n        header: {\r\n          'token': uni.getStorageSync('token') || ''\r\n        },\r\n        success: (res) => {\r\n          try {\r\n            const data = res.data;\r\n            resolve(data);\r\n          } catch (e) {\r\n            reject(e);\r\n          }\r\n        },\r\n        fail: (err) => {\r\n          reject(err);\r\n        }\r\n      });\r\n    });\r\n  }\r\n};\r\n\r\nexport default profileApi;"],"names":["http","uni"],"mappings":";;;AAGK,MAAC,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMjB,cAAc,MAAM;AAClB,WAAOA,cAAK,KAAK,mBAAmB,IAAI;AAAA,EACzC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOD,cAAc,MAAM;AAClB,WAAOA,cAAK,IAAI,mBAAmB,IAAI;AAAA,EACxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOD,WAAW,IAAI;AACb,WAAOA,SAAAA,KAAK,IAAI,mBAAmB,EAAE,EAAE;AAAA,EACxC;AAAA;AAAA;AAAA;AAAA;AAAA,EAMD,eAAe;AACb,WAAOA,SAAI,KAAC,IAAI,aAAa;AAAA,EAC9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOD,kBAAkB,UAAU;AAC1B,WAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACtCC,oBAAAA,MAAI,WAAW;AAAA,QACb,KAAKD,SAAAA,KAAK,UAAU;AAAA,QACpB;AAAA,QACA,MAAM;AAAA,QACN,QAAQ;AAAA,UACN,SAASC,cAAG,MAAC,eAAe,OAAO,KAAK;AAAA,QACzC;AAAA,QACD,SAAS,CAAC,QAAQ;AAChB,cAAI;AACF,kBAAM,OAAO,IAAI;AACjB,oBAAQ,IAAI;AAAA,UACb,SAAQ,GAAG;AACV,mBAAO,CAAC;AAAA,UACT;AAAA,QACF;AAAA,QACD,MAAM,CAAC,QAAQ;AACb,iBAAO,GAAG;AAAA,QACX;AAAA,MACT,CAAO;AAAA,IACP,CAAK;AAAA,EACF;AACH;;"}