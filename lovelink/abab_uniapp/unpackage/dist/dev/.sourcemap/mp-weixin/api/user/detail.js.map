{"version":3,"file":"detail.js","sources":["api/user/detail.js"],"sourcesContent":["/**\r\n * 用户详情相关API\r\n */\r\nimport http from '../http';\r\n\r\n// API基础路径\r\nconst BASE_PATH = '/loveSquare';\r\nconst SOCIAL_BASE_URL = 'http://localhost:9002'; // 社交服务基础URL\r\n\r\n/**\r\n * 获取用户详情（从相亲广场获取）\r\n * @param {String|Number} userId 用户ID\r\n * @returns {Promise} 返回包含用户详情的Promise\r\n */\r\nexport const getUserDetail = (userId) => {\r\n  return http.post(`${BASE_PATH}/list`, { \r\n    pageNum: 1, \r\n    pageSize: 100,\r\n    userId: userId // 如果后端支持按用户ID筛选\r\n  });\r\n};\r\n\r\n/**\r\n * 获取单个用户详情\r\n * @param {String|Number} userId 用户ID\r\n * @returns {Promise} 返回包含用户详情的Promise\r\n */\r\nexport const getUserDetailById = (userId) => {\r\n  return http.get(`/user/${userId}/detail`);\r\n};\r\n\r\n/**\r\n * 获取用户相册\r\n * @param {String|Number} userId 用户ID\r\n * @param {Number} pageNum 页码\r\n * @param {Number} pageSize 每页数量\r\n * @returns {Promise} 返回包含用户相册的Promise\r\n */\r\nexport const getUserPhotos = (userId, pageNum = 1, pageSize = 10) => {\r\n  return http.post(`${BASE_PATH}/findUserPhoto`, {\r\n    userId: userId,\r\n    pageNum: pageNum,\r\n    pageSize: pageSize\r\n  });\r\n};\r\n\r\n/**\r\n * 获取用户动态\r\n * @param {String|Number} userId 用户ID\r\n * @param {Number} pageNum 页码\r\n * @param {Number} pageSize 每页数量\r\n * @returns {Promise} 返回包含用户动态的Promise\r\n */\r\nexport const getUserMoments = (userId, pageNum = 1, pageSize = 10) => {\r\n  return http.request({\r\n    url: `${SOCIAL_BASE_URL}/api/social/moment/user/${userId}?pageNum=${pageNum}&pageSize=${pageSize}`,\r\n    method: 'GET'\r\n  });\r\n};\r\n\r\n/**\r\n * 点赞/取消点赞用户\r\n * @param {String|Number} userId 用户ID\r\n * @returns {Promise} 返回操作结果\r\n */\r\nexport const toggleUserLike = (userId) => {\r\n  return http.post(`/user/${userId}/like`);\r\n};\r\n\r\n/**\r\n * 关注/取消关注用户\r\n * @param {String|Number} targetUserId 目标用户ID\r\n * @returns {Promise} 返回操作结果\r\n */\r\nexport const toggleUserFollow = (targetUserId) => {\r\n  return http.post(`/follow/addAndCancel?followedUserId=${targetUserId}`);\r\n};\r\n\r\n/**\r\n * 检查是否已关注用户\r\n * @param {String|Number} targetUserId 目标用户ID\r\n * @returns {Promise} 返回关注状态\r\n */\r\nexport const checkUserFollow = (targetUserId) => {\r\n  return http.post(`/follow/isFollow?followedUserId=${targetUserId}`);\r\n};\r\n\r\nexport default {\r\n  getUserDetail,\r\n  getUserDetailById,\r\n  getUserPhotos,\r\n  getUserMoments,\r\n  toggleUserLike,\r\n  toggleUserFollow,\r\n  checkUserFollow\r\n};"],"names":["http"],"mappings":";;;AAMA,MAAM,YAAY;AAClB,MAAM,kBAAkB;AAOZ,MAAC,gBAAgB,CAAC,WAAW;AACvC,SAAOA,SAAI,KAAC,KAAK,GAAG,SAAS,SAAS;AAAA,IACpC,SAAS;AAAA,IACT,UAAU;AAAA,IACV;AAAA;AAAA,EACJ,CAAG;AACH;AAOY,MAAC,oBAAoB,CAAC,WAAW;AAC3C,SAAOA,SAAAA,KAAK,IAAI,SAAS,MAAM,SAAS;AAC1C;AASY,MAAC,gBAAgB,CAAC,QAAQ,UAAU,GAAG,WAAW,OAAO;AACnE,SAAOA,SAAI,KAAC,KAAK,GAAG,SAAS,kBAAkB;AAAA,IAC7C;AAAA,IACA;AAAA,IACA;AAAA,EACJ,CAAG;AACH;AASY,MAAC,iBAAiB,CAAC,QAAQ,UAAU,GAAG,WAAW,OAAO;AACpE,SAAOA,SAAAA,KAAK,QAAQ;AAAA,IAClB,KAAK,GAAG,eAAe,2BAA2B,MAAM,YAAY,OAAO,aAAa,QAAQ;AAAA,IAChG,QAAQ;AAAA,EACZ,CAAG;AACH;AAOY,MAAC,iBAAiB,CAAC,WAAW;AACxC,SAAOA,SAAAA,KAAK,KAAK,SAAS,MAAM,OAAO;AACzC;AAOY,MAAC,mBAAmB,CAAC,iBAAiB;AAChD,SAAOA,SAAAA,KAAK,KAAK,uCAAuC,YAAY,EAAE;AACxE;AAOY,MAAC,kBAAkB,CAAC,iBAAiB;AAC/C,SAAOA,SAAAA,KAAK,KAAK,mCAAmC,YAAY,EAAE;AACpE;AAEA,MAAe,SAAA;AAAA,EACb;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF;;;;;;;;;"}