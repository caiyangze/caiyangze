function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/api-user-detail.fhFDcuKa.js","assets/index-BpPI9udZ.js","assets/index-DMIaa8Q1.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{_ as e,s as t,p as s,b as a,H as l,d as n,w as o,i as c,f as i,h as d,j as r,q as u,M as I,K as f}from"./index-BpPI9udZ.js";const g=e({data:()=>({testUserId:"1"}),methods:{goToUserDetail(){this.testUserId?(console.log("跳转到用户详情页，userId:",this.testUserId),s({url:`/pages/user/user-detail?userId=${this.testUserId}`})):t({title:"请输入用户ID",icon:"none"})},async testUserAPI(){var e;if(this.testUserId)try{const t=await a((()=>import("./api-user-detail.fhFDcuKa.js")),__vite__mapDeps([0,1,2]));console.log("开始测试用户API，userId:",this.testUserId);try{const s=await t.getUserDetail(this.testUserId);if(console.log("getUserDetail 结果:",s),200===s.code&&s.data&&s.data.records){const t=s.data.records.find((e=>e.userId==this.testUserId));l(t?{title:"用户详情获取成功",content:`用户: ${t.nickname}\n年龄: ${(null==(e=t.userProfile)?void 0:e.age)||"未知"}\n性别: ${1===t.gender?"男":2===t.gender?"女":"未知"}`,showCancel:!1}:{title:"未找到用户",content:`在返回的 ${s.data.records.length} 条记录中未找到用户ID ${this.testUserId}`,showCancel:!1})}else l({title:"API调用失败",content:`错误码: ${s.code}\n错误信息: ${s.message||"未知错误"}`,showCancel:!1})}catch(s){console.error("getUserDetail 错误:",s),l({title:"网络错误",content:s.message||"请求失败",showCancel:!1})}}catch(s){console.error("测试API失败:",s),t({title:"测试失败: "+s.message,icon:"none"})}else t({title:"请输入用户ID",icon:"none"})},simulateMatchToDetail(){const e={userId:this.testUserId||"1",nickname:"测试用户",avatarUrl:"/static/message/default-avatar.png",gender:2,age:25};s({url:`/pages/game/match-result?result=${encodeURIComponent(JSON.stringify(e))}`})}}},[["render",function(e,t,s,a,l,g){const _=u,h=c,U=I,m=f;return i(),n(h,{class:"test-page"},{default:o((()=>[d(h,{class:"test-header"},{default:o((()=>[d(_,{class:"test-title"},{default:o((()=>[r("用户详情页面测试")])),_:1})])),_:1}),d(h,{class:"test-section"},{default:o((()=>[d(_,{class:"section-title"},{default:o((()=>[r("测试跳转到用户详情页")])),_:1}),d(h,{class:"input-group"},{default:o((()=>[d(_,{class:"input-label"},{default:o((()=>[r("用户ID:")])),_:1}),d(U,{class:"test-input",modelValue:l.testUserId,"onUpdate:modelValue":t[0]||(t[0]=e=>l.testUserId=e),placeholder:"请输入用户ID",type:"number"},null,8,["modelValue"])])),_:1}),d(m,{class:"test-btn",onClick:g.goToUserDetail},{default:o((()=>[r("跳转到用户详情页")])),_:1},8,["onClick"]),d(m,{class:"test-btn",onClick:g.testUserAPI},{default:o((()=>[r("测试用户API")])),_:1},8,["onClick"])])),_:1}),d(h,{class:"test-section"},{default:o((()=>[d(_,{class:"section-title"},{default:o((()=>[r("模拟匹配结果跳转")])),_:1}),d(m,{class:"test-btn",onClick:g.simulateMatchToDetail},{default:o((()=>[r("模拟匹配结果→用户详情")])),_:1},8,["onClick"])])),_:1}),d(h,{class:"test-section"},{default:o((()=>[d(_,{class:"section-title"},{default:o((()=>[r("测试说明")])),_:1}),d(h,{class:"info-box"},{default:o((()=>[d(_,{class:"info-text"},{default:o((()=>[r(' 1. 点击"查看资料"按钮会跳转到用户详情页 2. 在用户详情页点击"发消息"会检查是否互相关注 3. 如果互相关注，跳转到聊天页面 4. 如果未互相关注，显示提示信息 ')])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-1a84d9d6"]]);export{g as default};
