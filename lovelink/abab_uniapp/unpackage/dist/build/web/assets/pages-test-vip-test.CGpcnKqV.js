import{_ as t,p as s,N as e,d as a,w as l,i as c,f as i,h as n,j as o,t as r,q as d,K as u}from"./index-BpPI9udZ.js";const h=t({data:()=>({testResult:"点击按钮开始测试...",testOrderId:null}),methods:{testVipRecharge(){s({url:"/pages/vip/recharge"})},testVipSuccess(){const t={orderId:12345,orderNo:"VIP"+Date.now(),payMethodName:"微信支付",payAmount:"19.90",vipStartTime:(new Date).toISOString(),vipEndTime:new Date(Date.now()+2592e6).toISOString()};s({url:`/pages/vip/success?orderData=${encodeURIComponent(JSON.stringify(t))}`})},async testGetPackages(){try{this.testResult="正在获取VIP套餐...";const t=await e.get("/VIP/packages");this.testResult=`获取VIP套餐成功:\n${JSON.stringify(t,null,2)}`}catch(t){this.testResult=`获取VIP套餐失败: ${t.message}`}},async testGetPayMethods(){try{this.testResult="正在获取支付方式...";const t=await e.get("/VIP/payMethods");this.testResult=`获取支付方式成功:\n${JSON.stringify(t,null,2)}`}catch(t){this.testResult=`获取支付方式失败: ${t.message}`}},async testCreateOrder(){try{this.testResult="正在创建订单...";const t=await e.post("/VIP/createOrder",{vipType:1});200===t.code?(this.testOrderId=t.data.orderId,this.testResult=`创建订单成功:\n订单ID: ${this.testOrderId}\n${JSON.stringify(t,null,2)}`):this.testResult=`创建订单失败: ${t.message}`}catch(t){this.testResult=`创建订单失败: ${t.message}`}},async testPayment(){if(this.testOrderId)try{this.testResult="正在处理支付...";const t=await e.post("/VIP/pay",{orderId:this.testOrderId,payType:1});200===t.code?this.testResult=`支付成功:\n${JSON.stringify(t,null,2)}`:this.testResult=`支付失败: ${t.message}`}catch(t){this.testResult=`支付失败: ${t.message}`}else this.testResult="请先创建订单"}}},[["render",function(t,s,e,h,f,p){const I=d,y=c,g=u;return i(),a(y,{class:"test-page"},{default:l((()=>[n(y,{class:"test-header"},{default:l((()=>[n(I,{class:"test-title"},{default:l((()=>[o("VIP功能测试")])),_:1})])),_:1}),n(y,{class:"test-content"},{default:l((()=>[n(y,{class:"test-section"},{default:l((()=>[n(I,{class:"section-title"},{default:l((()=>[o("VIP充值测试")])),_:1}),n(g,{class:"test-button primary",onClick:p.testVipRecharge},{default:l((()=>[o("🎯 测试VIP充值页面")])),_:1},8,["onClick"]),n(g,{class:"test-button secondary",onClick:p.testVipSuccess},{default:l((()=>[o("✅ 测试VIP成功页面")])),_:1},8,["onClick"])])),_:1}),n(y,{class:"test-section"},{default:l((()=>[n(I,{class:"section-title"},{default:l((()=>[o("API测试")])),_:1}),n(g,{class:"test-button",onClick:p.testGetPackages},{default:l((()=>[o("测试获取VIP套餐")])),_:1},8,["onClick"]),n(g,{class:"test-button",onClick:p.testGetPayMethods},{default:l((()=>[o("测试获取支付方式")])),_:1},8,["onClick"]),n(g,{class:"test-button",onClick:p.testCreateOrder},{default:l((()=>[o("测试创建订单")])),_:1},8,["onClick"]),n(g,{class:"test-button",onClick:p.testPayment},{default:l((()=>[o("测试支付流程")])),_:1},8,["onClick"])])),_:1}),n(y,{class:"test-section"},{default:l((()=>[n(I,{class:"section-title"},{default:l((()=>[o("测试结果")])),_:1}),n(y,{class:"result-area"},{default:l((()=>[n(I,{class:"result-text"},{default:l((()=>[o(r(f.testResult),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-bf09fb5d"]]);export{h as default};
