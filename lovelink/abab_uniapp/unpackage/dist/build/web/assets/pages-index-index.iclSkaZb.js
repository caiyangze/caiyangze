function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["assets/api-square.ciSKT7xd.js","assets/index-BpPI9udZ.js","assets/index-DMIaa8Q1.css"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
import{_ as a,r as e,a as t,o as n,b as l,c as s,d as i,w as c,e as r,g as o,i as u,f as d,h as m,j as f,t as g,k as p,l as _,m as v,F as h,n as k,p as y,s as x,q as b,u as C,S as w,v as I,P as E,x as $,y as P}from"./index-BpPI9udZ.js";import{_ as T}from"./coin.DbIpHXjZ.js";import{o as j}from"./uni-app.es.BvOIZWhW.js";import{g as F}from"./wallet.j0ZDQvx-.js";const q=a({__name:"index",setup(a){const q=e({logo:!1,coin:!1}),U=t(0),V=t(null),L=["北京","上海","广州","深圳","杭州","成都","重庆","武汉","南京","西安"],O=t([0]),R=t("北京"),S=t(""),A=t([]);function B(){A.value=[{id:1,title:"缘来如此·夏日派对",image:"/static/index/banner1.png",url:"/pages/activity/summer-party"},{id:2,title:"新人专享礼包",image:"/static/index/banner2.png",url:"/pages/activity/new-user"},{id:3,title:"周末线下联谊",image:"/static/index/banner3.png",url:"/pages/activity/offline-event"}]}n((()=>{!async function(){try{const a=await new Promise(((a,e)=>{r({url:"http://localhost:9001/lunb/lunbList",method:"POST",success:e=>{a(e)},fail:a=>{e(a)}})}));200===a.statusCode&&200===a.data.code?(A.value=a.data.data.map((a=>({id:a.bannerId,title:a.bannerTitle,image:a.bannerImage,url:a.bannerUrl||"#",targetType:a.targetType,targetId:a.targetId}))),console.log("轮播图数据获取成功:",A.value)):(console.error("轮播图数据获取失败:",a),B())}catch(a){console.error("轮播图数据获取异常:",a),B()}}(),async function(){try{const a=await l((()=>import("./api-square.ciSKT7xd.js")),__vite__mapDeps([0,1,2])),e=await a.default.getRecommendUsers(4);200===e.code?(z.value=e.data.records.map((a=>({id:a.userId,name:a.nickname||"匿名用户",sex:a.gender,selfIntroduction:a.userProfile&&a.userProfile.selfIntroduction||"这个人很神秘，没有留下介绍",avatar:a.avatarUrl||"/static/default-avatar.png"}))),console.log("相亲广场推荐用户获取成功:",z.value)):(console.error("相亲广场推荐用户获取失败:",e),z.value=[{id:1,name:"小雨",age:26,intro:"喜欢旅行，热爱生活",avatar:"/static/index/avatar1.png"},{id:2,name:"阳阳",age:28,intro:"工程师，爱好摄影",avatar:"/static/index/avatar2.png"},{id:3,name:"小米",age:25,intro:"教师，温柔贤淑",avatar:"/static/index/avatar3.png"},{id:4,name:"大壮",age:30,intro:"医生，稳重可靠",avatar:"/static/index/avatar4.png"}])}catch(a){console.error("相亲广场推荐用户获取异常:",a)}}()}));const D=t([{id:1,name:"心动速配",desc:"趣味互动，快速匹配",image:"/static/index/game1.png"},{id:2,name:"性格测试",desc:"了解自己，找到匹配",image:"/static/index/game2.png"},{id:3,name:"恋爱话题",desc:"破冰神器，告别尬聊",image:"/static/index/game3.png"},{id:4,name:"缘分测算",desc:"星座配对，姻缘分析",image:"/static/index/game4.png"}]),z=t([]);function G(){y({url:"/pages/square/square"})}const H=t([{id:1,name:"语音聊天",image:"/static/index/entertainment1.png"},{id:2,name:"视频相亲",image:"/static/index/entertainment2.png"},{id:3,name:"趣味问答",image:"/static/index/entertainment3.png"},{id:4,name:"脱单攻略",image:"/static/index/entertainment4.png"}]);function J(a){q[a]=!0}function K(){S.value=R.value;const a=L.findIndex((a=>a===R.value));-1!==a&&(O.value=[a]),V.value.open()}function M(a){const e=a.detail.value[0];S.value=L[e]}function N(){R.value=S.value,V.value.close()}function Q(){V.value.close()}function W(){y({url:"/pages/search/search"})}function X(){y({url:"/pages/games/games-list"})}function Y(){y({url:"/pages/entertainment/entertainment-list"})}function Z(){y({url:"/pages/vip/vip-center"})}async function aa(){try{if(!o("token"))return void console.log("未登录，无法获取钱包信息");const a=await F();200===a.code&&(U.value=a.data.coinBalance||0)}catch(a){console.error("获取钱包信息失败:",a)}}function ea(){if(!o("token"))return x({title:"请先登录",icon:"none"}),void y({url:"/pages/login/login"});y({url:"/pages/wallet/wallet"})}return n((()=>{aa()})),j((()=>{aa()})),(a,e)=>{const t=u,n=b,l=C,r=P,o=w,j=I,F=E,S=$,B=s("uni-popup");return d(),i(t,{class:"index-page"},{default:c((()=>[m(t,{class:"bg-layer"},{default:c((()=>[m(t,{class:"bg-gradient"}),m(t,{class:"overlay-gradient"})])),_:1}),m(t,{class:"content-container"},{default:c((()=>[m(t,{class:"header"},{default:c((()=>[m(t,{class:"left-section"},{default:c((()=>[m(t,{class:"region-selector",onClick:K},{default:c((()=>[m(n,{class:"region-text"},{default:c((()=>[f(g(R.value),1)])),_:1}),m(n,{class:"region-arrow"})])),_:1}),m(t,{class:"search-box",onClick:W},{default:c((()=>[m(n,{class:"search-icon"}),m(n,{class:"search-placeholder"},{default:c((()=>[f("搜索")])),_:1})])),_:1})])),_:1}),m(t,{class:"currency-section",onClick:ea},{default:c((()=>[m(l,{class:"currency-icon",src:T,mode:"aspectFit",onError:e[0]||(e[0]=a=>J("coin"))},{default:c((()=>[q.coin?(d(),i(t,{key:0,class:"coin-placeholder"})):p("",!0)])),_:1}),m(n,{class:"currency-amount"},{default:c((()=>[f(g(U.value),1)])),_:1})])),_:1})])),_:1}),m(t,{class:"main-content"},{default:c((()=>[m(o,{class:"banner-swiper",circular:"",autoplay:"",interval:"5000",duration:"500","indicator-dots":"","indicator-color":"rgba(255,255,255,0.4)","indicator-active-color":"#fff"},{default:c((()=>[(d(!0),_(h,null,v(A.value,((a,e)=>(d(),i(r,{key:e,onClick:e=>function(a){console.log("点击轮播图:",a),a.url&&"#"!==a.url?1===a.targetType?y({url:a.url}):2===a.targetType&&a.targetId?y({url:`/pages/detail/detail?id=${a.targetId}`}):y({url:a.url}):console.log("轮播图没有设置跳转链接")}(a)},{default:c((()=>[m(l,{class:"banner-image",src:a.image,mode:"aspectFill",onError:a=>J(`banner${e}`)},{default:c((()=>[q[`banner${e}`]?(d(),i(t,{key:0,class:"banner-placeholder"})):p("",!0)])),_:2},1032,["src","onError"]),m(t,{class:"banner-title"},{default:c((()=>[f(g(a.title),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1}),m(t,{class:"section game-section"},{default:c((()=>[m(t,{class:"section-header"},{default:c((()=>[m(n,{class:"section-title"},{default:c((()=>[f("心动游戏大厅")])),_:1}),m(n,{class:"more-link",onClick:X},{default:c((()=>[f("更多")])),_:1})])),_:1}),m(j,{"scroll-x":"",class:"game-list","show-scrollbar":!1},{default:c((()=>[(d(!0),_(h,null,v(D.value,((a,e)=>(d(),i(t,{class:"game-item",key:e,onClick:e=>function(a){1===a.id?y({url:"/pages/game/heart-match"}):x({title:"该游戏正在开发中",icon:"none"})}(a)},{default:c((()=>[m(l,{class:"game-image",src:a.image,mode:"aspectFill",onError:a=>J(`game${e}`)},{default:c((()=>[q[`game${e}`]?(d(),i(t,{key:0,class:"image-placeholder"})):p("",!0)])),_:2},1032,["src","onError"]),m(n,{class:"game-name"},{default:c((()=>[f(g(a.name),1)])),_:2},1024),m(n,{class:"game-desc"},{default:c((()=>[f(g(a.desc),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),m(t,{class:"section match-section"},{default:c((()=>[m(t,{class:"section-header"},{default:c((()=>[m(n,{class:"section-title"},{default:c((()=>[f("相亲广场")])),_:1}),m(n,{class:"more-link",onClick:G},{default:c((()=>[f("更多")])),_:1})])),_:1}),m(j,{"scroll-x":"",class:"match-list","show-scrollbar":!1},{default:c((()=>[(d(!0),_(h,null,v(z.value,((a,e)=>(d(),i(t,{class:"match-item",key:e,onClick:e=>function(a){y({url:`/pages/user/user-detail?id=${a.id}`})}(a)},{default:c((()=>[m(l,{class:"match-image",src:a.avatar,mode:"aspectFill",onError:a=>J(`match${e}`)},{default:c((()=>[q[`match${e}`]?(d(),i(t,{key:0,class:"avatar-placeholder"})):p("",!0)])),_:2},1032,["src","onError"]),m(t,{class:"match-info"},{default:c((()=>[m(n,{class:"match-name"},{default:c((()=>[f(g(a.name),1)])),_:2},1024),m(n,{class:"match-age"},{default:c((()=>[f(g(1===a.gender?"♂":"♀"),1)])),_:2},1024)])),_:2},1024),m(n,{class:"match-intro"},{default:c((()=>[f(g(a.selfIntroduction),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),m(t,{class:"section entertainment-section"},{default:c((()=>[m(t,{class:"section-header"},{default:c((()=>[m(n,{class:"section-title"},{default:c((()=>[f("娱乐专区")])),_:1}),m(n,{class:"more-link",onClick:Y},{default:c((()=>[f("更多")])),_:1})])),_:1}),m(t,{class:"entertainment-grid"},{default:c((()=>[(d(!0),_(h,null,v(H.value,((a,e)=>(d(),i(t,{class:"entertainment-item",key:e,onClick:e=>function(a){y({url:`/pages/entertainment/entertainment-detail?id=${a.id}`})}(a)},{default:c((()=>[m(l,{class:"entertainment-image",src:a.image,mode:"aspectFill",onError:a=>J(`entertainment${e}`)},{default:c((()=>[q[`entertainment${e}`]?(d(),i(t,{key:0,class:"image-placeholder"})):p("",!0)])),_:2},1032,["src","onError"]),m(n,{class:"entertainment-name"},{default:c((()=>[f(g(a.name),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),m(t,{class:"section vip-section"},{default:c((()=>[m(t,{class:"section-header"},{default:c((()=>[m(n,{class:"section-title"},{default:c((()=>[f("VIP专区")])),_:1}),m(n,{class:"more-link",onClick:Z},{default:c((()=>[f("查看特权")])),_:1})])),_:1}),m(t,{class:"vip-card",onClick:Z},{default:c((()=>[m(t,{class:"vip-info"},{default:c((()=>[m(n,{class:"vip-title"},{default:c((()=>[f("开通VIP")])),_:1}),m(n,{class:"vip-desc"},{default:c((()=>[f("专属特权 · 1v1精准配对")])),_:1})])),_:1}),m(t,{class:"vip-button"},{default:c((()=>[f("立即开通")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),m(B,{ref_key:"regionPopup",ref:V,type:"bottom"},{default:c((()=>[m(t,{class:"region-popup"},{default:c((()=>[m(t,{class:"region-popup-header"},{default:c((()=>[m(n,{class:"cancel-btn",onClick:Q},{default:c((()=>[f("取消")])),_:1}),m(n,{class:"title"},{default:c((()=>[f("选择地区")])),_:1}),m(n,{class:"confirm-btn",onClick:N},{default:c((()=>[f("确定")])),_:1})])),_:1}),m(S,{class:"region-picker","indicator-style":"height: 80rpx;",value:O.value,onChange:M},{default:c((()=>[m(F,null,{default:c((()=>[(d(),_(h,null,v(L,((a,e)=>m(t,{class:"picker-item",key:e},{default:c((()=>[f(g(a),1)])),_:2},1024))),64))])),_:1})])),_:1},8,["value"])])),_:1})])),_:1},512),m(k)])),_:1})}}},[["__scopeId","data-v-cce32169"]]);export{q as default};
