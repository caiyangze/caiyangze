import{_ as e,X as s,s as a,g as t,p as l,N as c,d as n,w as d,i,f as r,h as o,j as u,A as f,q as g,K as _}from"./index-BpPI9udZ.js";const h=e({data:()=>({selectedGender:null,isMatching:!1}),methods:{goBack(){s()},selectGender(e){this.selectedGender=e},async startMatch(){if(this.selectedGender){this.isMatching=!0;try{const e=t("token");if(!e)return a({title:"è¯·å…ˆç™»å½•",icon:"none"}),void l({url:"/pages/login/login"});const s=await c.post("/user/heartMatch",{gender:this.selectedGender},{headers:{token:e}});if(200===s.code){const e=s.data;l({url:`/pages/game/match-result?result=${encodeURIComponent(JSON.stringify(e))}`})}else a({title:s.message||"åŒ¹é…å¤±è´¥",icon:"none"})}catch(e){console.error("åŒ¹é…å¤±è´¥:",e),a({title:"åŒ¹é…å¤±è´¥ï¼Œè¯·é‡è¯•",icon:"none"})}finally{this.isMatching=!1}}else a({title:"è¯·å…ˆé€‰æ‹©æ€§åˆ«",icon:"none"})}}},[["render",function(e,s,a,t,l,c){const h=i,k=g,m=_;return r(),n(h,{class:"heart-match-page"},{default:d((()=>[o(h,{class:"bg-layer"},{default:d((()=>[o(h,{class:"bg-gradient"})])),_:1}),o(h,{class:"content-container"},{default:d((()=>[o(h,{class:"nav-bar"},{default:d((()=>[o(h,{class:"nav-left",onClick:c.goBack},{default:d((()=>[o(k,{class:"nav-icon"},{default:d((()=>[u("â†")])),_:1})])),_:1},8,["onClick"]),o(k,{class:"nav-title"},{default:d((()=>[u("å¿ƒåŠ¨é€Ÿé…")])),_:1}),o(h,{class:"nav-right"})])),_:1}),o(h,{class:"main-content"},{default:d((()=>[o(h,{class:"title-section"},{default:d((()=>[o(k,{class:"main-title"},{default:d((()=>[u("ğŸ’• å¿ƒåŠ¨é€Ÿé… ğŸ’•")])),_:1}),o(k,{class:"sub-title"},{default:d((()=>[u("é€‰æ‹©ä½ æƒ³è¦åŒ¹é…çš„æ€§åˆ«")])),_:1})])),_:1}),o(h,{class:"gender-selection"},{default:d((()=>[o(h,{class:f(["gender-card",{active:1===l.selectedGender}]),onClick:s[0]||(s[0]=e=>c.selectGender(1))},{default:d((()=>[o(h,{class:"gender-icon"},{default:d((()=>[u("ğŸ‘¨")])),_:1}),o(k,{class:"gender-text"},{default:d((()=>[u("ç”·ç”Ÿ")])),_:1}),o(k,{class:"gender-desc"},{default:d((()=>[u("å¯»æ‰¾å¸…æ°”ç”·ç”Ÿ")])),_:1})])),_:1},8,["class"]),o(h,{class:f(["gender-card",{active:2===l.selectedGender}]),onClick:s[1]||(s[1]=e=>c.selectGender(2))},{default:d((()=>[o(h,{class:"gender-icon"},{default:d((()=>[u("ğŸ‘©")])),_:1}),o(k,{class:"gender-text"},{default:d((()=>[u("å¥³ç”Ÿ")])),_:1}),o(k,{class:"gender-desc"},{default:d((()=>[u("å¯»æ‰¾ç¾ä¸½å¥³ç”Ÿ")])),_:1})])),_:1},8,["class"])])),_:1}),o(h,{class:"match-button-container"},{default:d((()=>[o(m,{class:f(["match-button",{disabled:!l.selectedGender}]),disabled:!l.selectedGender||l.isMatching,onClick:c.startMatch},{default:d((()=>[l.isMatching?(r(),n(k,{key:1},{default:d((()=>[u("åŒ¹é…ä¸­...")])),_:1})):(r(),n(k,{key:0},{default:d((()=>[u("å¼€å§‹åŒ¹é…")])),_:1}))])),_:1},8,["class","disabled","onClick"])])),_:1}),o(h,{class:"description"},{default:d((()=>[o(k,{class:"desc-text"},{default:d((()=>[u("ç³»ç»Ÿå°†ä¸ºä½ éšæœºåŒ¹é…ä¸€ä½ç¬¦åˆæ¡ä»¶çš„ç”¨æˆ·")])),_:1}),o(k,{class:"desc-text"},{default:d((()=>[u("æ¯æ¬¡åŒ¹é…éƒ½æ˜¯å…¨æ–°çš„ç¼˜åˆ†é‚‚é€…")])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-c9b9ac00"]]);export{h as default};
